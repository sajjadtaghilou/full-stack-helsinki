{"ast":null,"code":"import _slicedToArray from \"/Users/sajjadtaghilou/Desktop/WEB/full-stack-helsinki/PART 2/phonebook/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/sajjadtaghilou/Desktop/WEB/full-stack-helsinki/PART 2/phonebook/src/App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Persons from \"./components/Persons\";\nimport PersonForm from \"./components/PersonForm\";\nimport Filter from \"./components/Filter\";\nimport personsService from \"./services/Persons\";\nimport Notification from \"./components/Notification.js\";\nimport Footer from \"./components/Footer\";\n\nconst App = () => {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        persons = _useState2[0],\n        setPersons = _useState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        filterName = _useState4[0],\n        setFilter = _useState4[1];\n\n  const _useState5 = useState(null),\n        _useState6 = _slicedToArray(_useState5, 2),\n        errorMessage = _useState6[0],\n        setErrorMessage = _useState6[1];\n\n  const _useState7 = useState(null),\n        _useState8 = _slicedToArray(_useState7, 2),\n        successMessage = _useState8[0],\n        setSuccessMessage = _useState8[1];\n\n  const onFilterChange = event => {\n    setFilter(event.target.value);\n  };\n\n  useEffect(() => {\n    personsService.getAll().then(initialPersons => {\n      setPersons(initialPersons);\n    }).catch(error => {\n      console.log(error.message);\n    });\n  }, []);\n  const filteredPersons = persons.filter(person => person.name.toLowerCase().indexOf(filterName.toLowerCase()) !== -1);\n\n  const onPersonSuccess = (persons, message) => {\n    setPersons(persons);\n    setSuccessMessage(message);\n    setTimeout(() => {\n      setSuccessMessage(\"\");\n    }, 3000);\n  };\n\n  const onError = person => {\n    setErrorMessage(\"\".concat(person.name, \"' has already been removed from server\"));\n    setTimeout(() => {\n      setErrorMessage(\"\");\n    }, 3000);\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \"Phonebook\"), React.createElement(Notification, {\n    errorMessage: errorMessage,\n    successMessage: successMessage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }), React.createElement(Filter, {\n    persons: persons,\n    filterName: filterName,\n    onFilterChange: onFilterChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }), React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \"add a new\"), React.createElement(PersonForm, {\n    onPersonSuccess: onPersonSuccess,\n    onError: onError,\n    persons: persons,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }), React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \"Numbers\"), React.createElement(Persons, {\n    persons: filteredPersons,\n    setPersons: setPersons,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }), React.createElement(Footer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }));\n};\n\nexport default App;","map":{"version":3,"sources":["/Users/sajjadtaghilou/Desktop/WEB/full-stack-helsinki/PART 2/phonebook/src/App.js"],"names":["React","useState","useEffect","Persons","PersonForm","Filter","personsService","Notification","Footer","App","persons","setPersons","filterName","setFilter","errorMessage","setErrorMessage","successMessage","setSuccessMessage","onFilterChange","event","target","value","getAll","then","initialPersons","catch","error","console","log","message","filteredPersons","filter","person","name","toLowerCase","indexOf","onPersonSuccess","setTimeout","onError"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Persons from \"./components/Persons\";\nimport PersonForm from \"./components/PersonForm\";\nimport Filter from \"./components/Filter\";\nimport personsService from \"./services/Persons\";\nimport Notification from \"./components/Notification.js\";\nimport Footer from \"./components/Footer\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [filterName, setFilter] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(null);\n  const [successMessage, setSuccessMessage] = useState(null);\n  const onFilterChange = event => {\n    setFilter(event.target.value);\n  };\n  useEffect(() => {\n    personsService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons);\n      })\n      .catch(error => {\n        console.log(error.message);\n      });\n  }, []);\n\n  const filteredPersons = persons.filter(\n    person => person.name.toLowerCase().indexOf(filterName.toLowerCase()) !== -1\n  );\n\n  const onPersonSuccess = (persons, message) => {\n    setPersons(persons);\n    setSuccessMessage(message);\n    setTimeout(() => {\n      setSuccessMessage(\"\");\n    }, 3000);\n  };\n\n  const onError = person => {\n    setErrorMessage(`${person.name}' has already been removed from server`);\n    setTimeout(() => {\n      setErrorMessage(\"\");\n    }, 3000);\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification\n        errorMessage={errorMessage}\n        successMessage={successMessage}\n      />\n      <Filter\n        persons={persons}\n        filterName={filterName}\n        onFilterChange={onFilterChange}\n      />\n      <h2>add a new</h2>\n      <PersonForm\n        onPersonSuccess={onPersonSuccess}\n        onError={onError}\n        persons={persons}\n      />\n      <h2>Numbers</h2>\n      <Persons persons={filteredPersons} setPersons={setPersons} />\n      <Footer />\n    </div>\n  );\n};\nexport default App;\n"]},"metadata":{},"sourceType":"module"}